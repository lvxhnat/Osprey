{% load static %}

<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type = "text/css" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" type = "text/css" href="{% static 'css/sidebar.css' %}">
</head>

<body>

    <div style = "border-right: 1 px solid rgb(105, 96, 96); height:600px">

        <form enctype = "multipart/form-data" method = "post" action = "/">{% csrf_token %} 

            <div class = "selectFile">
                Choose File
               <input type="file" accept = ".csv" name = "input_file" class="hide_file">
            </div>

            <div class = "firstColumnName">
                <label for = "customRange" class = "form-label"> Train with </label> <label class = "form-label" id = "modclass"> 9 </label> <label class = "form-label">Topics</label>
            </div>
            <input type = "range" class = "slider" name = "slider_control" id = "slider_control" value = "9" min = "3" max = "15" step = "1" oninput = "updateRangeSlider(this.value)"/>

            <label class = "inputNames" for = "col_to_size">Column Name to Size</label>
            <div>
                <input type = "text" name = "col_to_size" label = "Column Name to Size" id = "col_to_size">
            </div>

            <label class = "inputNames" for = "defining_col_id">Defining Column ID</label>
            <div>
                <input type = "text" name = "defining_col_id" label = "Defining Column ID" id = "defining_col_id">
            </div>

            <br>

            <input type = "submit" class = "runModel" value="Run Model"/>
            
        </form>

            <div class = "performance">
                <span class = "modelPerformance"> Model Performance </span>
            </div>
            <hr style = "border-top: 1px solid white; margin-top: 5px">

            <p> <b> Total datapoints added: </b> {{totalCount}} </p>
            <p> <b> Run Time: </b> {{runTime}} s</p>

            <a href="{% static 'OUTPUTS.zip' %}" download> <button  class = "download"> Download Document </button> </a>
        
            </div>
        
    </div>

</body>


<script type="text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"> 

    $(function() {
        $( ".slider").slider({
         min: 0,
         max: 1,
         value: 0.3,
         step: 0.05,
         slide: function(event, elt) {
           $("#slider_control").val(elt.value);
         }
        })
       });

</script>